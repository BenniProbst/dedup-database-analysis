# Database credentials for the dedup experiment
# IMPORTANT: Replace placeholder passwords before applying!
# Real credentials stored in: Projekte/Cluster/keys/database-credentials.md
# Lab user passwords managed via GitLab CI/CD Variables (Settings > CI/CD > Variables)
# MinIO uses LDAP Access Key (local user removed, LDAP mode active)
# Updated: 2026-02-18 (Session 12, credentials redacted for publication)
---
apiVersion: v1
kind: Secret
metadata:
  name: dedup-credentials
  namespace: databases
  labels:
    app.kubernetes.io/name: dedup-experiment
    app.kubernetes.io/component: credentials
type: Opaque
stringData:
  # PostgreSQL (LDAP auth via pg_hba.conf)
  PG_USER: "dedup-lab"
  PG_PASSWORD: "${DEDUP_PG_PASSWORD}"

  # CockroachDB (HBA password auth, user=dedup_lab with underscore!)
  CRDB_USER: "dedup_lab"
  CRDB_PASSWORD: "${DEDUP_CRDB_PASSWORD}"

  # Redis (ACL auth, key prefix dedup:*)
  REDIS_USER: "dedup-lab"
  REDIS_PASSWORD: "${DEDUP_REDIS_PASSWORD}"

  # Kafka (SCRAM-SHA-512 on port 9094)
  KAFKA_USER: "dedup-lab"
  KAFKA_PASSWORD: "${DEDUP_KAFKA_PASSWORD}"

  # MinIO S3 (LDAP Access Key, NOT local user)
  MINIO_ACCESS_KEY: "dedup-lab-s3"
  MINIO_SECRET_KEY: "${DEDUP_MINIO_SECRET}"

  # MariaDB lab user (for deploy)
  MARIADB_USER: "dedup-lab"
  MARIADB_PASSWORD: "${DEDUP_MARIADB_PASSWORD}"
  MARIADB_ROOT_PASSWORD: "${DEDUP_MARIADB_ROOT_PASSWORD}"

  # ClickHouse lab user (for deploy)
  CLICKHOUSE_USER: "dedup_lab"
  CLICKHOUSE_PASSWORD: "${DEDUP_CLICKHOUSE_PASSWORD}"
